<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1976D2">
    <title>AllO_G –ö–æ–º–º—É–Ω–∏–∫–∞—Ç–æ—Ä</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div id="app">
        <header class="header">
            <div class="header-left">
                <div class="logo" onclick="showInfo()">AllO_G</div>
            </div>
            <div class="header-right">
                <div class="protocols">
                    <div class="protocol-item" id="protocol-I" onclick="showProtocolInfo('I')">
                        <span class="protocol-letter">I</span>
                        <span class="protocol-status" id="status-I">üü¢4G</span>
                    </div>
                    <div class="protocol-item" id="protocol-W" onclick="showProtocolInfo('W')">
                        <span class="protocol-letter">W</span>
                        <span class="protocol-status" id="status-W">‚ö´</span>
                    </div>
                    <div class="protocol-item" id="protocol-A" onclick="showProtocolInfo('A')">
                        <span class="protocol-letter">A</span>
                        <span class="protocol-status" id="status-A">‚ö´</span>
                    </div>
                    <div class="protocol-item" id="protocol-Z" onclick="showProtocolInfo('Z')">
                        <span class="protocol-letter">Z</span>
                        <span class="protocol-status" id="status-Z">‚ö´</span>
                    </div>
                </div>
            </div>
        </header>

        <main class="participants-section">
            <div class="participants-list" id="participantsList">
            </div>
        </main>

        <footer class="actions-section" id="actionsSection">
            <div class="action-btn" onclick="openDialer()">
                <div class="action-icon-footer">üìû</div>
                <div class="action-label">–°–≤—è–∑—å</div>
            </div>
            <div class="action-btn" onclick="openGroupActions()">
                <div class="action-icon-footer">üë•</div>
                <div class="action-label">–ì—Ä—É–ø–ø–∞</div>
            </div>
            <div class="action-btn" onclick="openMap()">
                <div class="action-icon-footer">üìç</div>
                <div class="action-label">–ö–∞—Ä—Ç–∞</div>
            </div>
            <div class="action-btn" onclick="openVoiceCommands()">
                <div class="action-icon-footer">üé§</div>
                <div class="action-label">–ì–æ–ª–æ—Å</div>
            </div>
            <div class="action-btn" onclick="openHelp()">
                <div class="action-icon-footer">‚ùì</div>
                <div class="action-label">–°–ø—Ä–∞–≤–∫–∞</div>
            </div>
            <div class="action-btn" onclick="openSettings()">
                <div class="action-icon-footer">‚öôÔ∏è</div>
                <div class="action-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            </div>
        </footer>
    </div>

    <div class="popup-overlay" id="infoPopup" onclick="hideInfo()">
        <div class="popup-content" onclick="event.stopPropagation()">
            <div class="popup-header">
                <h3>–ö–æ–º–º—É–Ω–∏–∫–∞—Ç–æ—Ä AllO_G</h3>
                <button class="popup-close" onclick="hideInfo()">√ó</button>
            </div>
            <div class="popup-body">
                <div class="version">v1.1.5</div>
                <div class="description">
                    –ì–∏–±—Ä–∏–¥–Ω—ã–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ç–æ—Ä –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥
                </div>
                <div class="features">
                    <div>üìû –ú—É–ª—å—Ç–∏–ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω–∞—è —Å–≤—è–∑—å</div>
                    <div>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏</div>
                    <div>üåê –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</div>
                    <div>üé≠ –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –≤ —Å—Ü–µ–Ω–∞—Ö</div>
                    <div>‚≠ê –°–∏—Å—Ç–µ–º–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ</div>
                    <div>üì¢ –í—ã–∑–æ–≤ –ø–æ –ø–æ–∑—ã–≤–Ω—ã–º</div>
                    <div>üß© –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</div>
                    <div>üë§ –¢–∞–ø –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</div>
                    <div>üéØ –ò–∫–æ–Ω–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö</div>
                </div>
                <div class="author">–ê–≤—Ç–æ—Ä: ZolAnd</div>
                <div class="build">Build: 2024.01.15</div>
                <div class="help-section">
                    <button class="help-btn" onclick="openHelp()">üìñ –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</button>
                </div>
            </div>
        </div>
    </div>

    <div class="popup-overlay" id="protocolPopup" onclick="hideProtocolInfo()">
        <div class="popup-content small" onclick="event.stopPropagation()">
            <div class="popup-header">
                <h3 id="protocolTitle">–ü—Ä–æ—Ç–æ–∫–æ–ª —Å–≤—è–∑–∏</h3>
                <button class="popup-close" onclick="hideProtocolInfo()">√ó</button>
            </div>
            <div class="popup-body" id="protocolInfo">
            </div>
        </div>
    </div>

    <div class="popup-overlay" id="createParticipantPopup" onclick="hideCreateParticipant()">
        <div class="popup-content" onclick="event.stopPropagation()">
            <div class="popup-header">
                <h3>–ù–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫</h3>
                <button class="popup-close" onclick="hideCreateParticipant()">√ó</button>
            </div>
            <div class="popup-body">
                <form id="participantForm" onsubmit="saveParticipant(event)">
                    <div class="form-group">
                        <label>–ü–æ–∑—ã–≤–Ω–æ–π *</label>
                        <input type="text" id="callsign" placeholder="üé≠ –≠—Ö–æ" required>
                    </div>
                    <div class="form-group">
                        <label>–ò—Å—Ç–∏–Ω–Ω–æ–µ –∏–º—è</label>
                        <input type="text" id="realName" placeholder="–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –í–æ–ª–∫–æ–≤">
                    </div>
                    <div class="form-group">
                        <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *</label>
                        <input type="tel" id="phoneNumber" placeholder="+7 (999) 123-45-67" required>
                    </div>
                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="isFavorite">
                            <span class="checkmark">‚≠ê</span>
                            –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        <button type="button" class="btn-secondary" onclick="hideCreateParticipant()">‚ùå –û—Ç–º–µ–Ω–∞</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="popup-overlay" id="quickContactPopup" onclick="hideQuickContact()">
        <div class="popup-content" onclick="event.stopPropagation()">
            <div class="popup-header">
                <h3>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–≤—è–∑—å</h3>
                <button class="popup-close" onclick="hideQuickContact()">√ó</button>
            </div>
            <div class="popup-body">
                <div class="quick-contact-options">
                    <div class="quick-option" onclick="openIncognitoCall()">
                        <div class="option-icon">üìû</div>
                        <div class="option-content">
                            <div class="option-title">–ò–Ω–∫–æ–≥–Ω–∏—Ç–æ –∑–≤–æ–Ω–æ–∫</div>
                            <div class="option-description">–ü—Ä—è–º–æ–π –∑–≤–æ–Ω–æ–∫ –ø–æ –Ω–æ–º–µ—Ä—É</div>
                        </div>
                    </div>
                    <div class="quick-option" onclick="openCallsignSearch()">
                        <div class="option-icon">üì¢</div>
                        <div class="option-content">
                            <div class="option-title">–í—ã–∑–æ–≤ –ø–æ –ø–æ–∑—ã–≤–Ω–æ–º—É</div>
                            <div class="option-description">–ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø–æ –ø–æ–∑—ã–≤–Ω–æ–º—É</div>
                        </div>
                    </div>
                    <div class="quick-option" onclick="searchInNetwork()">
                        <div class="option-icon">üîç</div>
                        <div class="option-content">
                            <div class="option-title">–ü–æ–∏—Å–∫ –≤ —Å–µ—Ç–∏</div>
                            <div class="option-description">–ù–∞–π—Ç–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="context-menu" id="participantMenu">
        <div class="menu-item" onclick="viewHistory()">üìã –ò—Å—Ç–æ—Ä–∏—è</div>
        <div class="menu-item" onclick="manageRoles()">üé≠ –†–æ–ª–∏</div>
        <div class="menu-item" onclick="manageCommunications()">üìû –°–≤—è–∑—å</div>
        <div class="menu-item" onclick="toggleFavorite()">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
        <div class="menu-item warning" onclick="toggleParticipantBlock()">üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞</div>
        <div class="menu-item danger" onclick="removeParticipant()">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</div>
    </div>

    <script src="js/participants.js"></script>
    <script src="js/app.js"></script>
    <script>
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("sw.js").then(() => {
                console.log("SW –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω");
            });
        }
    </script>
</body>
</html>
